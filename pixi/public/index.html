<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="pixi.min.v4.5.5.js"></script>
</head>
<style>
    .loder {
        width: 256px;
        height: 15px;
        border-radius: 20px;
        border: 1px solid #999;
        margin-bottom: 20px;
        overflow: hidden;
    }

    .cont {
        width: 100%;
        height: 15px;
        background: blue;
        color: red;
        text-align: center;
        line-height: 15px;
    }

    * {
        padding: 0;
        margin: 0;
    }

    .wave2 {
        height: 30px;
        position: absolute;
        width: 100%;
        z-index: 12;
        left: 0;
        bottom: 0;
    }

    .wave2 {
        -webkit-animation: wave-animation1 6.3s infinite linear;
        /* Safari 4+ */
        -moz-animation: wave-animation1 6.3s infinite linear;
        /* Fx 5+ */
        -o-animation: wave-animation1 6.3s infinite linear;
        /* Opera 12+ */
        animation: wave-animation1 6.3s infinite linear;
        /* IE 10+ */
    }

    @-webkit-keyframes wave-animation1 {
        0% {
            background-position: 0 0;
        }

        100% {
            background-position: 1601px 0;
        }
    }

    @-moz-keyframes wave-animation1 {
        0% {
            background-position: 0 0;
        }

        100% {
            background-position: 1601px 0;
        }
    }

    @-o-keyframes wave-animation1 {
        0% {
            background-position: 0 0;
        }

        100% {
            background-position: 1601px 0;
        }
    }

    @keyframes wave-animation1 {
        0% {
            background-position: 0 0;
        }

        100% {
            background-position: 1601px 0;
        }
    }

    .wave2 {
        background: url('http://www.templates-preview.com/bootstrap-templates/300111854/images/wave2.png') 0 0 repeat-x;
    }
</style>

<body>
    <div class="loder">
        <div class="cont">
            55
        </div>
    </div>
    <div class="wave2"></div>
</body>

</html>
<script>
    // let app = new PIXI.Application({
    //     width: 256, 
    //     height: 256,
    //     antialias: true,  
    //     transparent:false //画布背景透明
    // })
    // app.renderer.backgroundColor = 151652
    // document.body.appendChild(app.view)
    // PIXI.loader.add("./img/11.png").load(setup)
    // function setup(){
    //     //这里是loader加载完成后的回调函数
    //     let sprite = new PIXI.Sprite(
    //         PIXI.loader.resources["./img/11.png"].texture
    //     )
    //     app.stage.addChild(sprite);
    // }
    // app.renderer.autoResize = true;
    // app.renderer.resize(512,512)
    // // let img = PIXI.utils.TextureCache["./img/11.png"];
    // // let sprite = new PIXI.Sprite(texture);
    // // PIXI.loader.add("images/11.png").load(setup);
    // // function setup() {
    // //     //This code will run when the loader has finished loading the image
    // // }
    // // let sprite = new PIXI.Sprite(
    // //     PIXI.loader.resources["images/11.png"].texture
    // // );
    // // load an image and run the `setup` function when it's done
    // PIXI.loader.add("./img/11.png").load(setup);

    // //This `setup` function will run when the image has loaded
    // function setup() {
    //     let cat = new PIXI.Sprite(PIXI.loader.resources["./img/11.png"].texture);
    //     app.stage.addChild(cat);
    // }


    //Aliases
    // let Application = PIXI.Application,
    // loader = PIXI.loader;
    // resources = PIXI.loader.resources,

    // Sprite = PIXI.Sprite;

    //Create a Pixi Application
    // let app = new Application({
    //     width: 256,
    //     height: 256,
    //     antialias: true,
    //     transparent: false,
    //     resolution: 1
    // });

    // document.body.appendChild(app.view);

    // ==============================================================
    // loader.add("./img/11.png").load(setup);

    // function setup() {
    //     let cat = new Sprite(resources["./img/11.png"].texture);
    //     cat.x = 130
    //     cat.y = 130
    //     cat.width = 100
    //     cat.height = 100
    //     cat.anchor.x = 0.5
    //     cat.anchor.y = 0.5
    //     cat.rotation = 0.6

    //     app.stage.addChild(cat);
    // }

    // ===============================================================
    // base = new PIXI.BaseTexture(anyImageObject),
    // texture = new PIXI.Texture(base),
    // sprite = new PIXI.Sprite(texture);
    // let base = new PIXI.BaseTexture.fromCanvas(anyCanvasElement),
    // anySprite.texture = PIXI.utils.TextureCache["anyTexture.png"];

    // ================================================================
    // PIXI.loader.add([
    // "./img/11.png",
    // "./img/22.png",
    // "./img/33.png"
    // ])
    // .on("progress", loadProgressHandler)
    // .load(setups);

    // function loadProgressHandler(loader, resource) {
    //     let cont = document.querySelector('.cont');
    // cont.style.width = loader.progress
    // console.log("loading");
    // console.log(loader.progress)
    // console.log(resource)
    // }

    // function setups() {
    // console.log("setup");
    // }

    // loader.add(['./img/10.png']).load(next)
    // let TextureCache = PIXI.utils.TextureCache
    // function next() {
    // //Create the `tileset` sprite from the texture
    // let texture = TextureCache["./img/10.png"];

    // //Create a rectangle object that defines the position and
    // //size of the sub-image you want to extract from the texture
    // //(`Rectangle` is an alias for `PIXI.Rectangle`)
    // let rectangle = new PIXI.Rectangle(96, 64, 32, 32);

    // //Tell the texture to use that rectangular section
    // texture.frame = rectangle;

    // //Create the sprite from the texture
    // let rocket = new PIXI.Sprite(texture);

    // //Position the rocket sprite on the canvas
    // rocket.x = 32;
    // rocket.y = 32;

    // //Add the rocket to the stage
    // app.stage.addChild(rocket);

    // //Render the stage
    // // app.renderer.render(stage);
    // }
    //起别名
    // let Application = PIXI.Application,
    //     loader = PIXI.loader,
    //     resources = PIXI.loader.resources,
    //     Sprite = PIXI.Sprite;
    // //使用别名
    // let app = new Application({
    //     width: 256,
    //     height: 256,
    //     antialias: true,
    //     transparent: false,
    //     resolution: 1
    // })
    // document.body.appendChild(app.view)
    // loader.add('./img/11.png').load(next)
    // function next(){
    //     let sprite = new Sprite(resources['./img/11.png'].texture)
    //     app.stage.addChild(sprite)
    // }

    let app = new PIXI.Application({
        width: 256,
        height: 256,
        antialias: true,
        transparent: false,
        resolution: 1
    })
    document.body.appendChild(app.view)

    app.renderer.view.width = 600
    app.renderer.autoResize = true;
    app.renderer.resize(512, 512)
    app.renderer.resize(window.innerWidth, window.innerHeight)

    // let texture = PIXI.utils.TextureCache["./img/11.png"]
    // let sprite = new PIXI.Sprite(texture)
    // app.stage.addChild(sprite)

    PIXI.loader.add('./img/11.png').load(imgs)
    // function imgs(){
    //     let sprite = new PIXI.Sprite(PIXI.loader.resources["./img/11.png"].texture)
    //     app.stage.addChild(sprite)
    //     // app.ticker.add(delta => gameLoop(delta))
    //     // function gameLoop(delta){
    //     //     sprite.x += 1 + delta;
    //     // }
    // gameLoop()
    // function gameLoop(){
    // requestAnimationFrame(gameLoop)
    // sprite.x += 1
    // }

    // =======================================================================
    // let cat;
    // function imgs(){
    //     cat = new PIXI.Sprite(PIXI.loader.resources['./img/11.png'].texture)
    //     cat.x = 0;
    //     cat.y = 20;
    //     cat.vx = 0;
    //     cat.vy = 0;
    //     app.stage.addChild(cat)
    //     gameLoop()
    // }
    // let a = 0;
    // function gameLoop(){
    //     requestAnimationFrame(gameLoop)
    //     if(a < 10){
    //         cat.vx = 1;
    //         cat.vy = 1;
    //     }else if(a > 100 & a < 200){
    //         cat.vx = 0.5;
    //         cat.vy = 1.5;
    //     }else if(a > 200 & a < 300){
    //         cat.vx = -0.5;
    //         cat.vy = -1;
    //     }else if(a > 300 & a < 400){
    //         cat.vx = -1;
    //         cat.vy = -0.5;
    //     }else if(a > 400 & a < 500){
    //         cat.vx = 0.5;
    //         cat.vy = 1.5;
    //     }else if(a > 500 & a < 600){
    //         cat.vx = 0.5;
    //         cat.vy = 1.5;
    //     }else if(a > 600 & a < 700){
    //         cat.vx = 5;
    //         cat.vy = -3;
    //     }else if(a > 700 & a < 800){
    //         cat.vx = 5;
    //         cat.vy = 3;
    //     }
    //     cat.x += cat.vx;
    //     cat.y += cat.vy;
    //     a++
    // }
    // =============================================================================================

    // let cat,stage;

    // function imgs() {
    //     cat = new PIXI.Sprite(PIXI.loader.resources["./img/11.png"].texture)
    //     cat.y = 96;
    //     cat.vx = 0;
    //     cat.vy = 0;
    //     app.stage.addChild(cat)

    //     let left = new Keyboard(37),
    //         up = new Keyboard(38),
    //         right = new Keyboard(39),
    //         down = new Keyboard(40);
    //     //按下左键
    //     left.press = () =>{
    //         cat.vx = -5;
    //         cat.vy = 0;
    //     }

    //     //松开左键
    //     left.release = () => {
    //         if(!right.isDown && cat.vy === 0) {
    //             cat.vx = 0;
    //         }
    //     }

    //     //按下上键
    //     up.press = () => {
    //         cat.vy = -5;
    //         cat.vx = 0;
    //     }

    //     //松开上键
    //     up.release = () => {
    //         if(!down.isDown && cat.vx === 0){
    //             cat.vy = 0;
    //         }
    //     }

    //     //按下右键
    //     right.press = () => {
    //         cat.vy = 0;
    //         cat.vx = 5;
    //     }

    //     //松开右键
    //     right.release = () => {
    //         if(!down.isDown && cat.vy === 0){
    //             cat.vx = 0;
    //         }
    //     }

    //     //按下下键
    //     down.press = () => {
    //         cat.vy = 5;
    //         cat.vx = 0;
    //     };

    //     // 松开下键
    //     down.release = () => {
    //         if (!up.isDown && cat.vx === 0) {
    //             cat.vy = 0;
    //         }
    //     };

    //     state = play;
    //     app.ticker.add(delta => gameLoop(delta))

    //     function gameLoop(){
    //         state()
    //     }

    // }
    // function play(delta) {
    //     cat.x += cat.vx;
    //     cat.y += cat.vy;
    // }


    // function Keyboard(keyCode){
    //     let that = this;
    //     this.code = keyCode;
    //     this.isDown = false;
    //     this.isUp = true;
    //     this.press = undefined;
    //     this.release = undefined;
    //     this.downHandler = event => {
    //         if(event.keyCode === key.code){
    //             if(key.isUp && key.press){
    //                 key.press()
    //             }
    //             key.isDown = true;
    //             key.isUp = false;
    //         }
    //         event.preventDefault()
    //     }

    //     this.upHandler = event => {
    //         if (event.keyCode === key.code) {
    //             console.log(key,'up1')
    //             if (key.isDown && key.release) {
    //                 key.release();
    //             }
    //             key.isDown = false;
    //             key.isUp = true;
    //         }
    //         event.preventDefault();
    //     };

    //     window.addEventListener(
    //         "keydown",that.downHandler.bind(this), false
    //     );

    //     window.addEventListener(
    //         "keyup",that.upHandler.bind(this), false
    //     );
    // }
    // ===========================================================================================
    function imgs() {
        //创造一个Pixi的Graphics类的实例
        // let rectangle = new PIXI.Graphics()

        // // 使用beginFill和一个16进制的颜色值填充
        // rectangle.beginFill(0xFFB6C1)

        // //给图形设置一个轮廓，使用lineStyle方法，设置一个宽4像素，alpha值为1的红色轮廓
        // rectangle.lineStyle(4, 0xFF3300, 1);

        // // 调用drawRect方法来画一个矩形。它的四个参数是x（对相对起点的x偏移量）, y（对相对起点的y偏移量）, width 和 height。
        // rectangle.drawRect(100, 100, 200, 200)

        // //endFill表示绘制结束
        // rectangle.endFill()

        // //设置矩形的相对起点
        // rectangle.x = 170;
        // rectangle.y = 170;

        // app.stage.addChild(rectangle)

        // let circle = new PIXI.Graphics()
        // circle.beginFill(0x9966FF);
        // circle.drawCircle(0, 0, 32)
        // circle.endFill();
        // circle.x = 64;
        // circle.y = 130;
        // app.stage.addChild(circle)

        // let ellipse = new PIXI.Graphics();
        // ellipse.beginFill(0xFFFF0);
        // ellipse.drawEllipse(0, 0, 50, 20)
        // ellipse.endFill();
        // // ellipse.x = 180;
        // // ellipse.y = 130;
        // app.stage.addChild(ellipse);

        // let roundBox = new PIXI.Graphics();
        // roundBox.lineStyle(4, 0x99CCFF, 1);
        // roundBox.beginFill(0xFF9933)
        // roundBox.drawRoundedRect(0, 0, 84, 36, 10)
        // roundBox.endFill()
        // roundBox.x = 148;
        // roundBox.y = 190;
        // app.stage.addChild(roundBox)

        let line = new PIXI.Graphics();
        line.lineStyle(4, 0xFFFFFF, 1)
        line.moveTo(0.0);
        line.lineTo(180, 50)
        line.x = 32;
        line.y = 32;
        app.stage.addChild(line)

        let triangle = new PIXI.Graphics()
        triangle.beginFill(0x66FF33)

        triangle.drawPolygon([
            0, 0,
            10, 10,
            10, -10,
            -10, -10
        ])

        triangle.endFill()
        triangle.x = 180;
        triangle.y = 22;

        app.stage.addChild(triangle)
        app.renderer.backgroundColor = 0xEF056
        let message = new PIXI.Text("Hello Pixi!");
        app.stage.addChild(message)
        let style = new PIXI.TextStyle({
            fontFamily: 'Arial',
            fontSize: 36,
            fill: 'white',
            storke: '#ff3300',
            strokeThickness: 4,
            dropShadow: true,
            dropShadowColor: '#000000',
            dropShadowBlur: 4,
            dropShadowAngle: Math.PI / 6,
            dropShadowDistance: 6
        })
        message.style = style;
    }
</script>